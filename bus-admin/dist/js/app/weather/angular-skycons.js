var angularSkycons=angular.module("angular-skycons",[]);angularSkycons.directive("skycon",function(){return{restrict:"E",replace:!0,scope:{icon:"=",size:"="},link:function(scope,element,attrs){var canvas=document.createElement("canvas");canvas.className=attrs.class?attrs.class:"";var config={};config.color=attrs.color?attrs.color:"black";var skycons=new Skycons(config);scope.$watch("size",function(newVal){newVal?(canvas.height=newVal,canvas.width=newVal):(canvas.height=scope.size||64,canvas.width=scope.size||64)},!0),scope.$watch("icon",function(){skycons.set(canvas,scope.icon)},!0),skycons.play(),8===element[0].nodeType?element.replaceWith(canvas):element[0].appendChild(canvas),scope.$on("$destroy",function(){skycons.remove(canvas),0===skycons.list.length&&skycons.pause(canvas)})}}});