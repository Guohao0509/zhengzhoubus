app.controller("ContactCtrl",["$scope","$http","$filter",function($scope,$http,$filter){$http.get("js/app/contact/contacts.json").then(function(resp){$scope.items=resp.data.items,$scope.item=$filter("orderBy")($scope.items,"first")[0],$scope.item.selected=!0}),$scope.filter="",$scope.groups=[{name:"Coworkers"},{name:"Family"},{name:"Friends"},{name:"Partners"},{name:"Group"}],$scope.createGroup=function(){var group={name:"New Group"};group.name=$scope.checkItem(group,$scope.groups,"name"),$scope.groups.push(group)},$scope.checkItem=function(obj,arr,key){var i=0;return angular.forEach(arr,function(item){if(0==item[key].indexOf(obj[key])){var j=item[key].replace(obj[key],"").trim();i=j?Math.max(i,parseInt(j)+1):1}}),obj[key]+(i?" "+i:"")},$scope.deleteGroup=function(item){$scope.groups.splice($scope.groups.indexOf(item),1)},$scope.selectGroup=function(item){angular.forEach($scope.groups,function(item){item.selected=!1}),$scope.group=item,$scope.group.selected=!0,$scope.filter=item.name},$scope.selectItem=function(item){angular.forEach($scope.items,function(item){item.selected=!1,item.editing=!1}),$scope.item=item,$scope.item.selected=!0},$scope.deleteItem=function(item){$scope.items.splice($scope.items.indexOf(item),1),$scope.item=$filter("orderBy")($scope.items,"first")[0],$scope.item&&($scope.item.selected=!0)},$scope.createItem=function(){var item={group:"Friends",avatar:"img/a0.jpg"};$scope.items.push(item),$scope.selectItem(item),$scope.item.editing=!0},$scope.editItem=function(item){item&&item.selected&&(item.editing=!0)},$scope.doneEditing=function(item){item.editing=!1}}]);