app.controller("ticketListController",function($rootScope,$scope,$http,$state,$localStorage,$stateParams,$myHttpService,$tableListService,$modal){var selected=!1;$scope.selectAll=function(){selected=!selected,angular.forEach($scope.pageResponse.rows,function(item){item.selected=selected})};var options={searchFormId:"J_search_form",listUrl:"api/ticket/queryTicketList.htm"};$tableListService.init($scope,options),$tableListService.get(),$scope.buyDateComponets={opened:!1,dateOptions:{datepickerMode:"day",showWeeks:!1,minMode:"day"},format:"yyyy-MM-dd",clear:function(){$scope.buydate=null},disabled:function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},toggleMin:function(){$scope.minDate=$scope.minDate?null:new Date},open:function($event){$event.preventDefault(),$event.stopPropagation(),$scope.buyDateComponets.opened=!0}},$scope.takeDateComponets={opened:!1,dateOptions:{datepickerMode:"month",showWeeks:!1,minMode:"month"},format:"yyyy-MM",clear:function(){$scope.takeDate=null},disabled:function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},toggleMin:function(){$scope.minDate=$scope.minDate?null:new Date},open:function($event){$event.preventDefault(),$event.stopPropagation(),$scope.takeDateComponets.opened=!0}},$scope.openTicketDetailModal=function(ticketId){$modal.open({templateUrl:"a-bugubus/trade/ticket_detail.html",controller:"TicketDetailModalController",size:"md",resolve:{ticketId:function(){return ticketId}}})}}),app.controller("TicketDetailModalController",["$scope","$modalInstance","ticketId","$myHttpService",function($scope,$modalInstance,ticketId,$myHttpService){$myHttpService.post("api/ticket/queryTicketInfoByTicketId",{ticketid:ticketId},function(data){$scope.data=data,console.log($scope.data)}),$scope.ok=function(){$modalInstance.close()}}]),app.controller("rechargeListController",function($rootScope,$scope,$http,$state,$localStorage,$stateParams,$myHttpService,$tableListService,$modal){var select=!1;$scope.selectAll=function(){select=!select,angular.forEach($scope.pageResponse.rows,function(item){item.selected=select})};var rechargeoptions={searchFormId:"J_recharge_form",listUrl:"api/rechargeOrder/queryRechargeOrderListByKeword.htm"};$tableListService.init($scope,rechargeoptions),$tableListService.get(),$scope.rechargestartTime={opened:!1,dateOptions:{datepickerMode:"day",showWeeks:!1,minMode:"day"},format:"yyyy-MM-dd",clear:function(){$scope.startTime=null},disabled:function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},toggleMin:function(){$scope.minDate=$scope.minDate?null:new Date},open:function($event){$event.preventDefault(),$event.stopPropagation(),$scope.rechargestartTime.opened=!0}},$scope.rechargeendTime={opened:!1,dateOptions:{datepickerMode:"day",showWeeks:!1,minMode:"day"},format:"yyyy-MM-dd",clear:function(){$scope.endTime=null},disabled:function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},toggleMin:function(){$scope.minDate=$scope.minDate?null:new Date},open:function($event){$event.preventDefault(),$event.stopPropagation(),$scope.rechargeendTime.opened=!0}},$scope.clearquery=function(){$scope.pmrcorderid="",$scope.startTime="",$scope.endTime="",$scope.userName=""},$scope.openReachargeDetailModal=function(pmrcorderid){$modal.open({templateUrl:"a-bugubus/trade/recharge_details.html",controller:"ReachargeDetailModalController",size:"md",resolve:{pmrcorderid:function(){return pmrcorderid}}})}}),app.controller("ReachargeDetailModalController",["$scope","$modalInstance","pmrcorderid","$myHttpService",function($scope,$Reacharmodal,pmrcorderid,$myHttpService){$myHttpService.post("api/rechargeOrder/queryRechargeOrderInfoByPmrcorderid",{pmrcorderid:pmrcorderid},function(data){$scope.data=data,console.log($scope.data)}),$scope.ok=function(){$Reacharmodal.close()}}]);